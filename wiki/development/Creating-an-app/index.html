<!doctype html>
<html lang="en">
  <head>
    <style>nav{padding:.5em;overflow:auto;display:flex;justify-content:center;background-color:var(--background);border-radius:0 0 1em 1em}.main-menu{padding:0;margin:0;display:flex;justify-content:center;flex-wrap:wrap}.links,.navbar{display:flex;align-items:center;justify-content:center;padding:0;flex-wrap:wrap}.social-links i{font-size:1.75em;margin:.25em;color:var(--primary-text)}.social-links i:hover{color:var(--link);cursor:pointer}.links .button{margin:.25em}.navbar{flex-direction:column}.navbar a{display:flex;align-items:center}.nav-item{display:inline-block;font-size:1.2em;margin:.5em}.nav-item a{color:var(--primary-text);text-decoration:none}.nav-item-active{font-weight:700;font-size:1.25em}.hero{position:relative;color:#fff;z-index:0}.hero-description{color:#fff}.hero-title{font-size:3em}header .container{flex-direction:column}header .links{flex-direction:column}@media (min-width:56em){nav{justify-content:space-between}.navbar{flex-direction:row}header .container{flex-direction:row}header .links{flex-direction:row}}code[class*=language-],pre[class*=language-]{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:var(--code)}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#75715e}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#fd971f}.token.property{color:#f4bf75}.token.tag{color:#66d9ef}.token.string{color:#a1efe4}.token.selector{color:#ae81ff}.token.attr-name{color:#fd971f}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#a1efe4}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#a6e22e}.token.atrule,.token.regex,.token.statement{color:#a1efe4}.token.placeholder,.token.variable{color:#66d9ef}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #f9f8f5;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#f92672}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #f92672;outline-offset:0.4em}@media (prefers-color-scheme:light){.token.punctuation{color:#cf222e}.token.boolean,.token.number,.token.operator{color:#c07016}.token.string{color:#0a338e}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#0a338e}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#cf222e}.token.placeholder,.token.variable{color:#00afd2}}#userinput{width:100%;font-size:1.25em;padding:.2em .2em .2em .2em;border:.05em solid #ddd;margin-left:.2em;margin-bottom:.2em}.wiki-content h1,.wiki-content h2{border-bottom:2px solid var(--primary-text-muted)}.wiki-content,.wiki-content-thin,.wiki-toc,.wiki-toc-right,.wiki-toc-right-no-pad{margin-top:1em;overflow-wrap:break-word}.wiki-toc-right-no-pad ul{list-style-type:none;margin:0;padding-left:20px}.wiki-toc,.wiki-toc-right,.wiki-toc-right-no-pad{background-color:var(--accent);border-radius:1em;padding:1em;font-size:1rem;flex:1}.wiki-toc{overflow:hidden;height:min-content}.wiki-toc-right,.wiki-toc-right-no-pad{overflow:auto;height:calc(100vh - 1em - 4em - 1.25em)}.wiki-toc-right-no-pad{padding-left:0;padding-right:1em}.wiki-toc-list{display:flex;flex-wrap:wrap;justify-content:space-between;padding-left:0;padding-right:0;margin:0;list-style:none}.wiki-toc-list li{line-height:1.466666666667}.wiki-toc-list ul{padding:0 0 .75em 0;margin:0;list-style:none}.wiki-toc-list ul ul{padding-bottom:0;padding-left:.625rem}.wiki-toc-list ul ul>li:not(.wiki-toc-active)>ul>li:not(.wiki-toc-active){display:none}.wiki-toc-list a{padding:.15em .25em;display:block}.wiki-toc-list a:not(:hover){text-decoration:none}.wiki-toc-list li{margin:0;padding:0}.wiki-toc-list>li{flex-grow:1;flex-basis:14.375rem}.wiki-toc-list>li>a{color:var(--primary-text);font-weight:700;border-bottom:1px solid #ddd;margin-bottom:.25em}.wiki-toc-list li.wiki-toc-active>a{background-color:var(--accent)}.wiki-toc-list li.wiki-toc-active>ul,.wiki-toc-list ul.wiki-toc-active{display:block}.wiki-cat-list-active{font-weight:700}.inlinelist{padding:0}.inlinelist-no-nest ol,.inlinelist-no-nest ul{display:none}.wiki-tag{display:inline}.wiki-tag a{display:inline-flex;text-transform:uppercase;font-size:.75em;padding:.08333333333333em .3333333333333em;margin:.5em .5em .5em 0;color:var(--primary-text);border:1px solid var(--accent);border-radius:.25em;text-decoration:none;line-height:1.8}.wiki-tag:hover a{text-decoration:underline}.wiki-tag-active a{font-weight:700}@media (min-width:56em){.wiki-content{width:80%}.wiki-content-thin{width:60%}.wiki-toc,.wiki-toc-right,.wiki-toc-right-no-pad{position:sticky;top:-1px}.wiki-toc{margin-right:1em}.wiki-toc-right,.wiki-toc-right-no-pad{margin-left:1em}}.simple-install-content{margin-top:1em}.download-tab-list{list-style:none;display:flex;justify-content:flex-start;list-style:none;padding:0;margin-bottom:0;border-radius:1em 1em 0 0;background-color:var(--accent);flex-wrap:wrap;overflow:hidden}.download-tab-list li{flex-grow:1;display:block}.download-tab-list a{color:var(--primary-text);font-size:1.2em;text-decoration:none;display:flex;justify-content:center;padding:.75em .5em}.download-tab-list a:hover{background-color:var(--accent-light)}.download-tab-list i{color:var(--primary-text);font-size:1.2em;text-decoration:none;display:flex;justify-content:center;margin-right:.25em}.download-tab-active a{background-color:var(--background)}.download-content{background-color:var(--background);padding:1em;border-radius:0 0 1em 1em}.download-content .column div{width:100%}.download-content .button{width:100%;display:block;margin-bottom:1em;margin-left:0}@media (min-width:56em){.download-tab-list a{border-radius:1rem 1rem 0 0}.download-content .column div{width:80%}}.postlist{list-style:none;padding:0}.postlist-item{background-color:var(--background);border-radius:1em;padding:1em;display:flex;flex-wrap:wrap;align-items:baseline;counter-increment:start-from -1;line-height:1.8}.postlist :first-child{margin-top:0}.postlist{margin-top:0}.postlist-item:before{display:inline-block;pointer-events:none;content:"" counter(start-from,decimal-leading-zero) ". ";line-height:100%;text-align:right}.postlist-date,.postlist-item:before{font-size:.8125em;color:var(--darkgray)}.postlist-item:not(:first-child){margin-top:2em}.postlist-date{word-spacing:-0.5px}.postlist-link{font-size:1.2em;padding-left:.25em;padding-right:1em;text-underline-position:from-font;text-underline-offset:0;text-decoration-thickness:1px}.postlist-item-active .postlist-link{font-weight:500}.postlist-description{width:100%;border-left:var(--primary) .25em solid;padding:.5em;margin-top:.33em}.tmpl-home .postlist-link{font-size:1.1875em;font-weight:700}.post-tag{display:inline-flex;align-items:center;justify-content:center;text-transform:uppercase;font-size:.75em;padding:.08333333333333em .3333333333333em;margin-left:1em;color:var(--primary-text);border:1px solid var(--accent);border-radius:.25em;text-decoration:none;line-height:1.8}a.post-tag,a.post-tag:visited{color:inherit}a.post-tag:focus,a.post-tag:hover{background-color:var(--lightgray)}.postlist-item>.post-tag{align-self:center}.user-list{display:flex;flex-wrap:wrap;align-content:space-around;list-style:none;padding:0}.user-info{position:relative;margin:.5em;width:5em;border-radius:1em;overflow:hidden;background-color:var(--background);text-decoration:none;color:var(--primary-text);max-height:5em}.user-contrib{width:3em;background-color:var(--accent)}.user-contrib:hover{border:.2em solid var(--primary)}.user-info img{display:block;width:100%;height:auto}.user-name{color:#fff;font-size:.8em;overflow-wrap:anywhere;padding:.5em;text-align:center}.user-info-overlay{position:absolute;display:flex;align-items:center;justify-content:center;top:0;bottom:0;left:0;right:0;opacity:0;transition:.3s ease;background-color:var(--primary)}.user-info:hover .user-info-overlay{opacity:1}:root{--primary-text:#fff;--primary-text-muted:#aaa;--grad-primary:#df6277ff;--background:#15181c;--accent:#21242b;--accent-light:#313540;--code:#313540;--disabled:#666;--primary:hsl(350, 56%, 50%);--link:hsl(214, 46%, 52%);--info:hsl(274, 32%, 42%);--success:hsl(145, 27%, 59%);--warn:hsl(49, 85%, 69%);--danger:hsl(17, 95%, 70%);--primary-dark:hsl(350, 56%, 50%);--link-dark:hsl(214, 46%, 42%);--info-dark:hsl(274, 32%, 32%);--success-dark:hsl(145, 27%, 49%);--warn-dark:hsl(49, 85%, 60%);--danger-dark:hsl(17, 95%, 65%);--primary-light:hsl(350, 66%, 70%);--link-light:hsl(214, 46%, 67%);--info-light:hsl(274, 32%, 56%);--success-light:hsl(145, 27%, 67%);--warn-light:hsl(49, 85%, 79%);--danger-light:hsl(17, 95%, 80%);background-color:var(--background);color-scheme:dark}@media (prefers-color-scheme:light){:root{--code:#F6F8FA;--primary-text:#333;--primary-text-muted:#666;--background:#ffffff;--accent:#e0e0e0;--accent-light:#d0d0d0;background-color:var(--background);color-scheme:light}}*{box-sizing:border-box}body,html{padding:0;margin:0;font-family:Inter,-apple-system,system-ui,sans-serif;color:var(--primary-text)}.bg{height:100vh;width:100vw;position:fixed;background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url('/img/background/fruit.jpg');background-position:center;background-repeat:no-repeat;background-size:cover}*{box-sizing:border-box}p:last-child{margin-bottom:0}.tmpl-post li,iframe,img,p{max-width:min(100%)}.tmpl-post li,p{line-height:1.45}a{color:var(--link)}table{margin:1em 0}table td,table th{padding-right:1em}blockquote{border-left:var(--primary) .25em solid;padding:.5em;margin:0}code{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}pre{border-radius:1em}:not(pre)>code{border-radius:.15em}.top{margin-top:1em}pre{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;background-color:var(--code);color:#fff;overflow:auto}code{word-break:break-all;color:#f8f8f2;background-color:var(--code)}:not(pre)>code{padding:.18em}@media (prefers-color-scheme:light){code{color:#1f2328}}.highlight-line{display:block;padding:.125em 1em;text-decoration:none;color:inherit}.highlight-line:empty:before{content:" "}.highlight-line+br{display:none}.highlight-line-isdir{color:#b00808;background-color:#222}.highlight-line-active{background-color:#444;background-color:hsla(0,0%,27%,.8)}.highlight-line-add{background-color:#45844b}.highlight-line-remove{background-color:#902f2f}.container{max-width:120em;margin:0 auto;position:relative}.content{background-color:var(--background);border-radius:1em;padding:1em}.center{text-align:center;margin:auto}.infobox{background-color:var(--accent);padding:1em;border-radius:1em}.button{display:inline-block;border:none;position:relative;color:#fff;padding:.5em 1.5em;list-style:none;font-size:1.2em;font-family:Inter,sans-serif;font-weight:600;text-decoration:none;background-color:var(--primary);border-radius:.365em;transition:.2s ease;background-position-x:100%;cursor:pointer}.button[disabled]{opacity:.5;pointer-events:none}.button:hover{background-color:var(--primary-dark)}.button.type-link{background-color:var(--link)}.button.type-link:hover{background-color:var(--link-dark)}.button.type-info{background-color:var(--info)}.button.type-info:hover{background-color:var(--info-dark)}.button.type-success{background-color:var(--success)}.button.type-success:hover{background-color:var(--success-dark)}.button.type-warn{background-color:var(--warn);color:#000}.button.type-warn:hover{background-color:var(--warn-dark);color:#000}.button.type-danger{background-color:var(--danger)}.button.type-danger:hover{background-color:var(--danger-dark)}.button.size-large{font-size:1.5em}.button.size-small{font-size:1em}.direct-link{text-decoration:none;font-style:normal;margin-left:.1em}a.direct-link,a.direct-link:visited{color:transparent}:hover>a.direct-link,:hover>a.direct-link:visited,a.direct-link:focus,a.direct-link:focus:visited{color:#aaa}.download-links{padding:0}.download-links li{display:inline;margin:.25em}.row{display:flex;flex-direction:column}.column{display:flex;align-items:center;justify-content:center;padding:1em;text-align:center}.column img{height:auto}.subtitle{font-size:1.5em;text-align:center}.cards{display:flex;flex-wrap:wrap;flex-direction:column;gap:1em}.card{flex:1;padding:1em;text-align:center;background-color:var(--accent)}.card .button{width:100%;margin:0}.notification{border-radius:1em;position:relative;padding:1.25rem 2.5rem 1.25rem 1.5rem;margin-bottom:1em;color:#fff}.notification.type-primary{background-color:var(--primary)}.notification.type-link{background-color:var(--link)}.notification.type-info{background-color:var(--info)}.notification.type-success{background-color:var(--success)}.notification.type-warn{background-color:var(--warn);color:#000}.notification.type-danger{background-color:var(--danger)}.footer{text-align:center;padding:2em;color:#fff}@media (min-width:56em){.row{flex-direction:row}.row-reverse{flex-direction:row-reverse}.column{flex:50%}.wiki-content{padding-left:1em}.cards{flex-direction:row;justify-content:space-between}.card{align-self:flex-start}}</style>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi-Apps - Creating an App</title>
    <meta name="description" content="Raspberry Pi App Store for Open Source Projects.">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Pi-Apps">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Pi-Apps">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon.png">
    <link rel="stylesheet" type="text/css" href="/assets/fonts/inter/index.css">
    <link rel="stylesheet" type="text/css" href="/assets/fonts/inter/600.css">
    <link rel="stylesheet" type="text/css" href="/assets/fonts/inter/700.css">
    <link rel="stylesheet" href="/assets/forkawesome/css/fork-awesome.min.css">
    <!-- incredibly based web app to make mod lists at https://moddermore.vercel.app -->
  </head>
  <body>
    <header>
  <div class="bg"></div>
  <nav class="container">
    <div class="navbar">
      <a class="home" href="/" aria-label="Pi-Apps">
        <picture>
          <source srcset="/img/proglogo-white-noglow-64.png 1x, /img/proglogo-white-noglow-128.png 2x, /img/proglogo-white-noglow-256.png 3x" media="(prefers-color-scheme: dark)">
          <source srcset="/img/proglogo-black-noglow-64.png 1x, /img/proglogo-black-noglow-128.png 2x, /img/proglogo-black-noglow-256.png 3x" media="(prefers-color-scheme: light)">
          <img src="/img/proglogo-white-noglow-256.png" alt="Pi-Apps logo" style="height: 4em" />
        </picture>
      </a>
      <ul class="main-menu">
        <li class="nav-item">
          <a href="/about/">About</a>
        </li>
        <li class="nav-item">
          <a href="/wiki/">Wiki</a>
        </li>
        <li class="nav-item">
          <a href="/wiki/getting-started/apps-list/">Apps List</a>
        </li>
        <li class="nav-item">
          <a href="/#get-involved">Community</a>
        </li>
      </ul>
    </div>
    <div class="links">
      <div class="social-links">
        <a href="https://discord.gg/RXSTvaUvuu" target="_blank" aria-label="Discord"><i class="fa fa-discord"></i></a>
        <a href="https://github.com/Botspot/pi-apps" target="_blank" aria-label="GitHub"><i class="fa fa-github"></i></a>
      </div>
      <div>
        <a class="button" href="/install/">Install</a>
      </div>
    </div>
  </nav>

  
</header>


<main class="container tmpl-wiki">
  <div class="row row-reverse">
  <div class="wiki-content content">
    <h1 id="creating-an-app-for-pi-apps" tabindex="-1">Creating an app for Pi-Apps <a class="direct-link" href="#creating-an-app-for-pi-apps" aria-hidden="true">#</a></h1>
<p><strong>It's easy to make your own Pi-App!</strong></p>
<p>Please note that if you want to <em>submit</em> your app to the official Pi-Apps repository, we have a few guidelines:</p>
<ul>
<li>The app needs to be useful for people who use their Raspberry Pi as an everyday, desktop computer.
<ul>
<li>Apps that are meant to run on a headless Pi will not be accepted. (Rosetta@home, pihole, etc)</li>
<li>Apps that are not designed for everyday GUI users won't be accepted. (command-line file servers, webservers, etc)</li>
</ul>
</li>
<li>The app needs to be legal to download and use. (No piracy allowed)
<ul>
<li>Paid apps are allowed. If your app has a free demo mode (like Doom 3), please ask the user if they want the demo mode or the full version.</li>
</ul>
</li>
<li>The app should be appropriate for all ages. After all, Raspberry Pis are designed with children in mind.</li>
<li>Applications that support both ARM32 and ARM64 are preferred, ARM64 ONLY applications are tolerated, and new ARM32 ONLY applications will likely not be accepted</li>
<li>The app may not have any malicious content. Any attempt to upload viruses, zip bombs, or any sort of software will result in a swift ban from all pi-apps repos and a report of such malicious activity to GitHub.</li>
<li>Even if your app follows all of these guidelines, there still may be a reason we decide not to add it to the official Pi-Apps repository. If that happens, you can still take advantage of Pi-Apps's features by telling your users to import the zip file for your app.</li>
</ul>
<p>Note about Package Apps:</p>
<p>Pi-Apps was never intended to be a GUI for apt. The only reason we have package-apps is to avoid limiting the options for a given task. For example, if you need an image editor, the best option may be an apt package, so it's best to include them for comparison rather than giving script-apps an unfair advantage.</p>
<p>In other words, package apps need to <em>compliment preexisting script-apps.</em> A proposed package-app in a completely new category will not be accepted.</p>
<p>The remainder of this page will explain how to make an app.</p>
<ul>
<li>First, launch Pi-Apps Settings.</li>
<li>Click New App.</li>
<li>This launches the Create App Wizard. This series of dialog boxes will guide you through the process of making your very own app.</li>
<li>It will ask for:
<ul>
<li><strong>Name</strong> of app (<strong>required</strong>)</li>
<li><strong>Icon</strong>: should be a <strong>square</strong> icon, at least <strong>64x64</strong> px. Note that Windows .bmp icons rarely scale properly.</li>
<li><strong>Website</strong>: In general, the website link should point to where users will find <strong>help</strong> and more <strong>information</strong> about the app.</li>
<li>OS architecture <strong>compatibility</strong>: Select if your app is <strong>32-bit</strong> compatible, <strong>64-bit</strong> compatible, or <strong>both</strong>.</li>
<li><strong>Description</strong>: Explain to a total noob user <strong>what the app is</strong>, what the app <strong>does</strong>, and how to get it running.</li>
<li><strong>Credits</strong>: Give yourself credit for adding it to Pi-Apps! :)</li>
</ul>
</li>
<li>In the subsequent pages, Pi-Apps will assist you in making your own <strong>bash scripts</strong> to install and uninstall the app.</li>
</ul>
<h3 id="making-an-install-script" tabindex="-1">Making an <code>install</code> script <a class="direct-link" href="#making-an-install-script" aria-hidden="true">#</a></h3>
<p>What's a <em>bash script</em>? I'm glad you asked.<br>
Basically, ask yourself this question: &quot;<strong>What commands should I run in a terminal to install this app?</strong>&quot;<br>
Simply <strong>write down all those commands in a file</strong> Pi-Apps opens for you.<br>
Here's the <code>install-32</code> script from the Arduino app: (located at <code>~/pi-apps/apps/Arduino/install-32</code>)</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token number">1.8</span>.19

<span class="token builtin class-name">cd</span> ~/.local/share
<span class="token function">wget</span> https://downloads.arduino.cc/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz <span class="token operator">||</span> error <span class="token string">"failed to download!"</span>
<span class="token function">tar</span> <span class="token parameter variable">-xf</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz <span class="token operator">||</span> error <span class="token string">"failed to extract with tar!"</span>
<span class="token function">sudo</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>/install.sh <span class="token operator">||</span> error <span class="token string">"failed run Arduino install script!"</span>
<span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token environment constant">$HOME</span>/Desktop/arduino-arduinoide.desktop <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz</code></pre>
<p>Let's walk through the script, one line at a time.</p>
<ul>
<li>First we tell our script which command language we are using, in this case it is bash, all scripts will likely have this</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span></code></pre>
<ul>
<li>This downloads the Arduino software from <a href="https://www.arduino.cc/en/software">Arduino's downloads page</a>. ⏬ with the specified version</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">wget</span> https://downloads.arduino.cc/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz <span class="token operator">||</span> error <span class="token string">"failed to download!"</span></code></pre>
<ul>
<li>Oh, but what's that ⏫? <code>error</code>? The <strong><code>error</code></strong> command is used in all Pi-Apps scripts to <strong>exit if something goes wrong</strong>. For example, if the above line <em>failed</em> to download Arduino for some reason, the script will <strong>stop and talk</strong>. (in the terminal, it will exit with a red error saying &quot;<code>failed to download!</code>&quot;)</li>
<li>This line extracts the zipped folder we just downloaded. ⏬ (again, notice the <code>error</code> command that will notify us if this current command fails)</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">tar</span> <span class="token parameter variable">-xf</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz <span class="token operator">||</span> error <span class="token string">"failed to extract with tar!"</span></code></pre>
<ul>
<li>This command runs Arduino's built-in installation bash script. ⏬</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>/install.sh <span class="token operator">||</span> error <span class="token string">"failed run Arduino install script!"</span></code></pre>
<ul>
<li>And this remaining portion of the script will clean up unnecessary files afterwards.⏬</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token environment constant">$HOME</span>/Desktop/arduino-arduinoide.desktop <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/arduino-<span class="token variable">${version}</span>-linuxarm.tar.xz</code></pre>
<ul>
<li>Notice that this ⏫ command does not have an <code>error</code>. That's because we don't care if this command fails.</li>
</ul>
<h3 id="other-things-to-be-aware-of" tabindex="-1">Other things to be aware of <a class="direct-link" href="#other-things-to-be-aware-of" aria-hidden="true">#</a></h3>
<p>The Arduino app was quite simple because it already included its own installation scripts. Not all apps are like this. Below are other tips that will come in handy when making your own apps, or understanding other pre-made install scripts.</p>
<ul>
<li>To download a github repository, you can't use <code>wget</code>. Use the <code>git clone</code> command instead. For example, <code>git clone https://github.com/Botspot/pi-apps</code>, which will download the git repository to the ~/pi-apps folder by default. (As usual, add an <code>|| error</code> clause at the end in case the download fails.)</li>
<li>To install a package, don't use <code>apt</code>! Doing this causes problems, no matter which approach you try:
<ul>
<li>Your app could install the <code>ffmpeg</code> package when installing the app, and uninstall <code>ffmpeg</code> when uninstalling the app. What's the problem here? Some people will already have <code>ffmpeg</code> installed on the system, and they will be quite annoyed when it goes missing after uninstalling your app.</li>
<li>To solve the above issue, your app could only install the <code>ffmpeg</code> package, and <em>not even try</em> to uninstall it. This solution <em>would work</em>, but it's a very bad choice, both for disk usage, and for the Pi-Apps policy where users expect an uninstall script to undo everything.</li>
<li>Solution: <strong>don't use <code>apt</code>.</strong> Use Pi-Apps's <strong><code>install_packages</code></strong> function. install_packages uses <code>apt</code>, but it records which packages each app installs. When you uninstall the app, the <code>purge_packages</code> script will uninstall these packages that were written down earlier.<br>
<code>install_packages</code> usage:<br>
<code>install_packages package1 /path/to/package2.deb https://example.com/package3.deb package4-* || exit 1</code><br><br>
That ⏫ is roughly equivalent to something like <code>sudo apt update &amp;&amp; sudo apt install -y package1 package2 package3 || exit 1</code><br>
And to <strong>remove</strong> all packages your app installed earlier:<br>
<code>purge_packages || exit 1</code></li>
</ul>
</li>
<li>Shortcut: create small text files using <code>echo</code> inside the install script. Many scripts use this technique to create menu button files:</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"[Desktop Entry]
Name=Ultimaker Cura
GenericName=3D Printing Software
Comment=Cura converts 3D models into paths for a 3D printer. It prepares your print for maximum accuracy, minimum printing time and good reliability with many extra features that make your print come out great.
Exec=/opt/Cura.AppImage %f
Icon=<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> $0<span class="token variable">)</span></span>/icon-64.png
Terminal=false
Type=Application
MimeType=application/sla;application/vnd.ms-3mfdocument;application/prs.wavefront-obj;model/x3d+xml;model/stl;
Categories=Graphics;Education;Development;Science;
Keywords=3D;Printing;
StartupNotify=true"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /usr/share/applications/cura.desktop</code></pre>
<p>This ⏫ was taken from the Cura app's <code>install-32</code> script. It creates a file at <code>/usr/share/applications/cura.desktop</code>. (Don't forget to make the uninstall script remove it!)</p>
<ul>
<li>Delete files with <code>rm /path/to/file-i-wanna-delete.txt</code>. It's good practice to use <code>rm -f</code> to hide errors in case the file doesn't exist. For deleting entire folders, use <code>rm -rf</code>.</li>
<li>Move files to the Trash with <code>gio trash /path/to/file/or/folder-i-wanna-delete</code>.</li>
</ul>
<h3 id="making-an-uninstall-script" tabindex="-1">Making an <code>uninstall</code> script <a class="direct-link" href="#making-an-uninstall-script" aria-hidden="true">#</a></h3>
<p>It should <strong>undo all changes</strong> made during installation, with one exception: uninstalling an app must not delete the app's configuration files. <a href="https://github.com/Botspot/pi-apps/issues/44">We don't want people's Minecraft worlds being deleted during an update.</a><br>
Here's the Arduino app's <code>uninstall</code> script. ⏬</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span>arduino-1.8.19

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span>/uninstall.sh"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">sudo</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span>/uninstall.sh <span class="token operator">||</span> error <span class="token string">"Failed to run Arduino uninstall script!"</span>
  <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> <span class="token operator">||</span> error <span class="token string">"Failed to remove <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> folder"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span>/install.sh"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment">#there is an option to uninstall Arduino in its install script, if uninstall script not found, use sudo $VERSION/install.sh -u instead</span>
  <span class="token function">sudo</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span>/install.sh <span class="token parameter variable">-u</span> <span class="token operator">||</span> error <span class="token string">"Failed to run sudo ~/.local/share/<span class="token variable">$VERSION</span>/install.sh -u"</span>
  <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> <span class="token operator">||</span> error <span class="token string">"Failed to remove <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> folder"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"WARNING: Arduino's install and uninstall script were not found! Most likely it was never fully installed. Removing <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> folder..."</span>
  <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> <span class="token operator">||</span> error <span class="token string">"Failed to remove <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span> folder"</span>
<span class="token keyword">fi</span></code></pre>
<p>Script explanation:</p>
<ul>
<li>These run scripts that have resided in Arduino's folder. ⏬ They will remove the menu buttons for us and take care of most of the uninstall process.</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span>/uninstall.sh</code></pre>
<ul>
<li>And this will delete the Arduino folder if the uninstall and install scripts are not found. ⏬</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token environment constant">$HOME</span>/.local/share/<span class="token variable">$VERSION</span></code></pre>

    
    
    <hr>
    <h3>Pages in Development:</h3>
    <ul class="inlinelist inlinelist-no-nest"><li class="wiki-tag"><a href="/wiki/development/DOCUMENTATION/">Documentation</a></li>
<li class="wiki-tag"><a href="/wiki/development/Directory-tree/">Directory Tree</a></li>
<li class="wiki-tag wiki-tag-active"><a href="/wiki/development/Creating-an-app/">Creating an App</a></li></ul>
    

    
  </div>
  <div class="wiki-toc"><ul class="wiki-toc-list"><li><a href="/wiki/">Overview</a><ul><li><a href="/wiki/overview/feedback-bugs/">Feedback & Bugs</a></li>
<li><a href="/wiki/overview/copying/">Copying</a></li></ul></li>
<li><a href="/wiki/getting-started/">Getting Started</a><ul><li><a href="/wiki/getting-started/installing-pi-apps/">Installing Pi-Apps</a></li>
<li><a href="/wiki/getting-started/running-pi-apps/">Running Pi-Apps</a></li>
<li><a href="/wiki/getting-started/updating-pi-apps/">Updating Pi-Apps</a></li>
<li><a href="/wiki/getting-started/command-line-interface/">Command Line Interface</a></li>
<li><a href="/wiki/getting-started/change-themes/">Change Themes</a></li>
<li><a href="/wiki/getting-started/apps-list/">Apps List</a></li></ul></li>
<li><a href="/wiki/development/">Development</a><ul><li><a href="/wiki/development/DOCUMENTATION/">Documentation</a></li>
<li><a href="/wiki/development/Directory-tree/">Directory Tree</a></li>
<li class="wiki-toc-active"><a href="/wiki/development/Creating-an-app/">Creating an App</a></li></ul></li></ul>
  </div>
</div>
</main>

<footer>
  <div class="footer">
    <div class="container">
        <a href="https://github.com/Pi-Apps-Coders/website/edit/master/./src/wiki/development/Creating-an-app.md" class="elv-externalexempt button type-link size-small">Edit this page</a>
    </div>
</div>
</footer>
  </body>
</html>
